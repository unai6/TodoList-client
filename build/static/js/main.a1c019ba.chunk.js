(this["webpackJsonptodolist-client"]=this["webpackJsonptodolist-client"]||[]).push([[0],{35:function(e,t,a){e.exports=a(67)},40:function(e,t,a){},42:function(e,t,a){},48:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),c=a.n(o),l=(a(40),a(1)),s=a.n(l),i=a(5),m=a(3),u=(a(42),a(6)),p=function(e){var t=Object(n.useState)(!0),a=Object(m.a)(t,2),o=a[0],c=a[1],l=function(){c(!1)};return r.a.createElement("div",{className:"bg-component"},r.a.createElement("div",{className:"div-buttons"},r.a.createElement("button",{className:"btn-categories",onClick:function(){c(!o)}}," CATEGOR\xcdAS"),r.a.createElement(u.b,{to:"/create-task/"},r.a.createElement("button",{className:"btn-categories"}," + NUEVA TAREA"))),o?r.a.createElement("div",{className:"userMenu slide-right"},r.a.createElement("button",{className:"close-menu",onClick:l},r.a.createElement("i",{className:"far fa-times-circle close-menu"})),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo"},r.a.createElement("i",{className:"fas fa-home"})," ",r.a.createElement("a",{className:"a-links",href:"#Home"},"PENDIENTES")),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo"},r.a.createElement("i",{className:"far fa-address-card"})," ",r.a.createElement("a",{className:"a-links",href:"#About"},"COMPLETADAS")),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo portfolio"},r.a.createElement("i",{className:"fas fa-folder-open"})," ",r.a.createElement("a",{className:"a-links",href:"#PortFolio"},"TRABAJO")),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo"},r.a.createElement("i",{className:"fas fa-envelope-open-text"})," ",r.a.createElement("a",{className:"a-links",href:"#Contact"},"SUPERMERCADO")),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo"},r.a.createElement("i",{className:"fas fa-envelope-open-text"})," ",r.a.createElement("a",{className:"a-links",href:"#Contact"},"IMPORTANTES"))):r.a.createElement("div",{className:"userMenu slide-left"},r.a.createElement("button",{className:"close-menu",onClick:l},r.a.createElement("i",{className:"far fa-times-circle close-menu"})),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo"},"Home"),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo"},"About"),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo portfolio"},"Portfolio"),r.a.createElement("button",{onClick:l,className:"menu-item bm-icon bm-item btn-handler btn-homeinfo"},"Contact")))},d=(a(48),a(34)),b=a.n(d).a.create({baseURL:"".concat("https://todo-list-forines.herokuapp.com"),withCredentials:!0}),f=function(e){return b.post("/signup",e)},E=function(e){return b.post("/login",e)},h=a(2),g=function(e){var t=Object(h.g)(),a=Object(n.useState)(""),o=Object(m.a)(a,2),c=o[0],l=(o[1],Object(n.useState)([])),u=Object(m.a)(l,2),d=u[0];u[1];Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n=e.match.params.userId,b.get("/dashboard/".concat(n));case 2:a=t.sent,console.log(a);case 4:case"end":return t.stop()}var n}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.match.params.userId]),console.log(c.tasks);return r.a.createElement("div",{"data-test":"app-component"},r.a.createElement("div",null,r.a.createElement("img",{className:"logo",src:"/list-2389219_640-removebg-preview.png",alt:"pic","data-test":"image-logo"}),r.a.createElement("h2",{className:"h2-name"},"Hola ",c.nickName),r.a.createElement("p",{className:"p-title-tasks"},"Estas son tus \xfaltimas tareas."),r.a.createElement("div",null," ",d.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.name))}))),r.a.createElement(p,Object.assign({},e,{"data-test":"sidebar-component"}))),r.a.createElement("button",{onClick:function(){b.post("/logout",{}),localStorage.removeItem("user"),localStorage.removeItem("token"),t.push("/")}},"Cerrar Sesi\xf3n"))},v=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"Create new task"),r.a.createElement(p,{"data-test":"sidebar-component"}))},k=(a(66),function(){var e,t=localStorage.getItem("user");null!==t&&(e=JSON.parse(t).userId);return r.a.createElement("div",{className:"background-home"},r.a.createElement(u.b,{to:"/signup"},r.a.createElement("button",null,"Registrarse")),r.a.createElement(r.a.Fragment,null,t?r.a.createElement(u.b,{to:"/dashboard/".concat(e)},r.a.createElement("button",null,"Ir a mi escritorio")," "):r.a.createElement(u.b,{to:"/login"},r.a.createElement("button",null,"Iniciar Sesi\xf3n")," ")))}),N=Object(n.createContext)(),O=a(16),w=function(e,t){switch(t.type){case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),localStorage.setItem("user",JSON.stringify(t.payload.user)),Object(O.a)(Object(O.a)({},e),{},{token:t.payload.token,user:t.payload.user,loading:!1});case"LOGIN_ERROR":return localStorage.removeItem("token"),localStorage.removeItem("user"),Object(O.a)(Object(O.a)({},e),{},{token:null,user:null,message:t.payload,loading:!1});default:return e}},S=function(e){var t={user:localStorage.getItem("user"),token:localStorage.getItem("token"),loading:!0},a=Object(n.useReducer)(w,t),o=Object(m.a)(a,2),c=o[0],l=o[1],u=Object(h.g)(),p=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:200===(a=e.sent).status?(l({type:"LOGIN_SUCCESS",payload:a.data}),u.push("/dashboard/".concat(a.data.user.userId))):(l({type:"LOGIN_ERROR",payload:a.status}),u.push("/login")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({type:"LOGIN_ERROR",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(N.Provider,{value:{token:c.token,user:c.user,isVerified:c.isVerified,isCompleted:c.isCompleted,loading:c.loading,authenticate:p}},e.children)},j=a(18),C=function(e){var t=Object(n.useContext)(N),a=e.component,o=Object(j.a)(e,["component"]);return r.a.createElement(r.a.Fragment,null,t.token?r.a.createElement(h.a,{to:"/"}):r.a.createElement(h.b,Object.assign({render:function(e){return r.a.createElement(a,e)}},o)))},y=function(e){var t=Object(n.useContext)(N),a=e.component,o=Object(j.a)(e,["component"]);return r.a.createElement(r.a.Fragment,null,t.token?r.a.createElement(h.b,Object.assign({render:function(e){return r.a.createElement(a,e)}},o)):r.a.createElement(h.a,{to:"/"}))},x=a(17),I=function(){var e=Object(x.a)(),t=e.register,a=e.handleSubmit,o=Object(n.useContext)(N).authenticate,c=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:a(c)},r.a.createElement("input",{name:"nickName",type:"text",ref:t}),r.a.createElement("input",{name:"password",type:"text",ref:t}),r.a.createElement("input",{type:"checkbox",name:"remember",ref:t}),r.a.createElement("button",null,"Acceder en mi cuenta")))},A=function(){var e=Object(h.g)(),t=Object(x.a)(),a=t.register,o=t.handleSubmit,c=t.errors,l=Object(n.useState)(!0),u=Object(m.a)(l,2),p=u[0],d=u[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),g=E[0],v=E[1],k=function(){var t=Object(i.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(a);case 3:d(!1),e.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),v("ya existe un usuario con ese avatar");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:o(k)},c.name&&r.a.createElement("span",null," ",c.name.message?c.name.message:"Este campo es obligatorio"," "),r.a.createElement("span",null,g),r.a.createElement("input",{name:"name",type:"text",placeholder:"Nombre",ref:a({required:!0})}),c.nickName&&r.a.createElement("span",null," ",c.nickName.message?c.nickName.message:"Este campo es obligatorio"," "),r.a.createElement("input",{name:"nickName",type:"text",ref:a({required:!0}),placeholder:"Avatar"}),c.password&&r.a.createElement("span",null," ",c.password.message?c.password.message:"Este campo es obligatorio"," "),r.a.createElement("input",{name:"password",type:"text",ref:a({required:!0}),placeholder:"Contrase\xf1a"}),r.a.createElement("input",{type:"checkbox",name:"remember",ref:a}),p?r.a.createElement("button",null,"Registrarse"):r.a.createElement("p",null,"Gracias por registrate")))},R=function(e){e?b.defaults.headers.common.Authorization=e:delete b.defaults.headers.common.Authorization},L=localStorage.getItem("token");L&&R(L);var P=function e(){return r.a.createElement(u.a,null,r.a.createElement(S,null,r.a.createElement(h.d,{component:e},r.a.createElement(h.b,{exact:!0,path:"/",component:k}),r.a.createElement(C,{exact:!0,path:"/signup",component:A}),r.a.createElement(C,{exact:!0,path:"/login",component:I}),r.a.createElement(y,{exact:!0,path:"/dashboard/:userId","data-test":"dashboard-component",component:g}),r.a.createElement(y,{exact:!0,path:"/create-task/:userId","data-test":"dashboard-component",component:v}))))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):U(t,e)}))}}()}},[[35,1,2]]]);
//# sourceMappingURL=main.a1c019ba.chunk.js.map